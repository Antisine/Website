<!DOCTYPE html>
<html lang='en-US'>
  <head>
    <link href="https://fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet" type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Shadows+Into+Light" rel="stylesheet" type='text/css'>
    <script src="/assets/jquery.js"></script>
    <meta charset='utf-8'/>
    <style>
      body {
        text-align: center;
        font-family: 'Fjalla One';
        font-size: 20px;
        background: #e6eaf0;
        padding: 100px;
      }
      button {
        margin: 40px;
      }
      input {
        font-size: 24px;
      }
      .fill {
        background: white;
        color: red;
        border-bottom: 2px black solid;
        font-family: 'Shadows Into Light';
        padding: 0 6px;
        margin: 4px;
      }
    </style>
  </head> 
  <body>
    <div class="prompt"></div>
    <button>Next</button>
    <script>
      // List of prompts for the user
      var prompts = [
	      'Type your name',
	      'Type an adjective',
	      'Type a noun',
	      'Type a friend\'s name',
	      'Type an activity',
	      'Type a place',
	      'Type another noun',
	      'Type an action',
	      'Type another place',
	      'Type another action',
	      'Type a story ending' 
      ];
      var answers=[];
      // Keep track of current prompt we're on
      var currentPrompt = 0;
      // A function that will call the next prompt
      var nextPrompt = function() {
        //if there's no answer in the form
        if (currentPrompt != 0){
          answers.push($('input').val());
        }
	      // if there is a next prompt
	      if (currentPrompt < prompts.length) {
		      // put first prompt in all html elements with class 
		      $('.prompt').html(prompts[currentPrompt] +'<br><input type="text">');
		      // move the next prompt into variable currentPrompt 
		      currentPrompt = currentPrompt + 1;
	      }
	      //or else if we're at the end of the array
	      else {
		      // put a new message into the html.
		      showFinal();
	      }
      }
      //puts user answers into HTML
      var showFinal = function() {
        $('.prompt').html('This is the story of <span class="fill">'+answers[0]+'</span> and the <span class="fill">'+answers[1]+'</span> <span class="fill">'+answers[2]+'</span>. One day, <span class="fill">'+answers[0]+'</span> and <span class="fill">'+answers[3]+'</span> were going to play <span class="fill">'+answers[4]+'</span> by the <span class="fill">'+answers[5]+'</span>. While they were going to play <span class="fill">'+answers[4]+'</span> they found <span class="fill">'+answers[6]+'</span>, and proceeded to <span class="fill">'+answers[7]+'</span>. After <span class="fill">'+answers[7]+'</span>ing,<span class="fill">'+answers[0]+'</span> and <span class="fill">'+answers[3]+'</span> continued on and played <span class="fill">'+answers[4]+'</span>. After that, <span class="fill">'+answers[0]+'</span> and <span class="fill">'+answers[3]+'</span> went to the <span class="fill">'+answers[8]+'</span>. There they <span class="fill">'+answers[9]+'</span> where they <span class="fill">'+answers[10]+'</span>.');
        //and then hide the button
        $('button').hide();
      }
      // run nextPrompt function when button is clicked
      $('button').click(function() {
	      nextPrompt();
      });
      // Show the first prompt as soon as js loads
      nextPrompt();
    </script>
  </body>
</html>
